[gd_scene load_steps=11 format=3 uid="uid://dfyxn8l8uy0hm"]

[ext_resource type="Script" uid="uid://jvepttfn2388" path="res://scripts/main.gd" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://b7xwoymju70oo" path="res://scenes/incubation_station.tscn" id="2_0xm2m"]
[ext_resource type="Texture2D" uid="uid://dd8oevjpleq1c" path="res://assets/egg_bg_game_jam_July_2025.png" id="2_efxa6"]
[ext_resource type="Resource" uid="uid://igwpka7ehvvf" path="res://scripts/egg_creatures/creature_chicken.tres" id="3_1bvp3"]
[ext_resource type="PackedScene" uid="uid://bb2c5mlyg7sy4" path="res://scenes/devices/heater.tscn" id="3_h2yge"]
[ext_resource type="Resource" uid="uid://5hgtftfyu4uv" path="res://scripts/egg_creatures/creature_duck.tres" id="4_lquwl"]
[ext_resource type="PackedScene" uid="uid://m7nn74deuc3m" path="res://scenes/devices/hanging_lamp.tscn" id="6_7mycd"]
[ext_resource type="PackedScene" uid="uid://brnwpac523qw7" path="res://scenes/devices/cooler.tscn" id="7_272bh"]
[ext_resource type="PackedScene" uid="uid://dv57jw1jlbgw" path="res://scenes/shop/device_shop.tscn" id="9_kek77"]
[ext_resource type="PackedScene" uid="uid://d2xwmhitg3r0s" path="res://scenes/shop/egg_reward.tscn" id="10_4c57u"]

[node name="Main" type="Node2D" groups=["main"]]
script = ExtResource("1_ig7tw")

[node name="BackgroundSprite2D" type="Sprite2D" parent="."]
z_index = -20
position = Vector2(320, 180)
texture = ExtResource("2_efxa6")

[node name="AudioListener2D" type="AudioListener2D" parent="."]
unique_name_in_owner = true
current = true

[node name="SpawnArea2D" type="Area2D" parent="." groups=["devices"]]
position = Vector2(32, 312)
metadata/_edit_group_ = true

[node name="Marker2D" type="Marker2D" parent="SpawnArea2D"]
unique_name_in_owner = true
position = Vector2(8, -8)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="SpawnArea2D"]
polygon = PackedVector2Array(-48, -56, 64, -56, 120, -40, 152, -24, 184, 0, 208, 24, 224, 48, 224, 64, -48, 64)

[node name="Map" type="Node2D" parent="."]

[node name="IncubationStation1" parent="Map" instance=ExtResource("2_0xm2m")]
position = Vector2(160, 158)
starting_egg_creature = ExtResource("3_1bvp3")

[node name="IncubationStation2" parent="Map" instance=ExtResource("2_0xm2m")]
position = Vector2(288, 160)
starting_egg_creature = ExtResource("4_lquwl")

[node name="Heater" parent="Map" instance=ExtResource("3_h2yge")]
position = Vector2(160, 225)

[node name="HangingLamp" parent="Map" instance=ExtResource("6_7mycd")]
position = Vector2(160, 64)

[node name="Cooler" parent="Map" instance=ExtResource("7_272bh")]
position = Vector2(288, 216)
enabled = false

[node name="GameTickTimer" type="Timer" parent="."]
wait_time = 0.5
autostart = true

[node name="TickLabel" type="Label" parent="."]
unique_name_in_owner = true
offset_right = 40.0
offset_bottom = 23.0
text = "Ticks: 0"

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.625597, 0.625597, 0.625597, 1)

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="MusicAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -12.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="OpenShopButton" type="Button" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -96.0
offset_top = 4.0
offset_right = -3.0
offset_bottom = 35.0
grow_horizontal = 0
text = "Open Shop"

[node name="MoneyLabel" type="Label" parent="CanvasLayer"]
unique_name_in_owner = true
offset_left = 440.0
offset_top = 4.0
offset_right = 542.0
offset_bottom = 27.0
text = "Money: 252 â‚¬"

[node name="DeviceShop" parent="CanvasLayer" instance=ExtResource("9_kek77")]
unique_name_in_owner = true
visible = false
offset_left = -90.0
offset_right = 90.0

[node name="EggReward" parent="CanvasLayer" instance=ExtResource("10_4c57u")]
unique_name_in_owner = true
visible = false
offset_left = -303.5
offset_top = -122.5
offset_right = 303.5
offset_bottom = 122.5

[node name="ClearSpawnArea" type="PanelContainer" parent="CanvasLayer"]
visible = false
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -516.0
offset_top = 320.0
offset_right = -375.0
offset_bottom = 360.0
grow_horizontal = 0
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="CanvasLayer/ClearSpawnArea"]
layout_mode = 2
text = "Clear pond area!"

[connection signal="timeout" from="GameTickTimer" to="." method="_on_game_tick_timer_timeout"]
[connection signal="pressed" from="CanvasLayer/OpenShopButton" to="." method="_on_open_shop_button_pressed"]
[connection signal="device_bought" from="CanvasLayer/DeviceShop" to="." method="_on_device_shop_device_bought"]
[connection signal="creature_choosen" from="CanvasLayer/EggReward" to="." method="_on_egg_reward_creature_choosen"]
